{% extends 'base_estoque.html' %}
{% load static %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav id="sidebar" class="col-md-2 d-md-block bg-dark text-light p-0">
            <div class="position-sticky">
                <h4 class="text-light text-center mt-3 p-2 fw-bold">Gestão de Estoque</h4>
                <div class="nav flex-column px-2">
                    <button class="btn btn-outline-primary mb-2" onclick="location.href='{% url 'alimento_list' %}'">
                        <i class="bi bi-box-seam"></i> Home
                    </button>
                    <button class="btn btn-outline-primary mb-2" onclick="location.href='{% url 'entradas_list' %}'">
                        <i class="bi bi-box-seam"></i> Entradas
                    </button>
                    <button class="btn btn-outline-warning mb-2" onclick="location.href='{% url 'financeiro' %}'">
                        <i class="bi bi-box-seam"></i> Financeiro
                    </button>
                    <button class="btn btn-outline-danger mb-2" onclick="location.href='{% url 'itens_vencidos' %}'">
                        <i class="bi bi-box-seam"></i> Itens Vencidos
                    </button>
                    <button class="btn btn-outline-secondary mb-2" onclick="location.href='{% url 'deslogar' %}'">
                        <i class="bi bi-door-open"></i> Sair da Aplicação
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main content -->
        <main class="col-md-10 ms-sm-auto px-md-4 mt-4">
            <h2>Lista de Saídas</h2>

            <!-- Botão para gerar PDF -->
            <div class="mb-3">
                <button class="btn btn-outline-success" onclick="location.href='{% url 'saidas_pdf' %}'">
                    <i class="bi bi-file-earmark-pdf"></i> Gerar PDF
                </button>
            </div>

            <!-- Tabela de saídas -->
            <table class="table table-light table-bordered table-striped">
                <thead class="thead-light">
                    <tr>
                        <th>Alimento</th>
                        <th>Quantidade</th>
                        <th>Peso</th>
                        <th>Validade</th>
                    </tr>
                </thead>
                <tbody>
                    {% for saida in saidas %}
                    <tr>
                        <td>{{ saida.alimento.nome }}</td>
                        <td>{{ saida.quantidade }}</td>
                        <td>{{ saida.peso }}</td>
                        <td>{{ saida.validade }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" class="text-center">Nenhuma saída registrada.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        </main>
    </div>
</div>
{% endblock %}
